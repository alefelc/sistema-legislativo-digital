// Manage session table
class Law {
  constructor() {
    this.table = '#laws-index table#law-table';
    this.startDataTable();
  }

  startDataTable() {
    $(this.table).dataTable({
      processing: true,
      serverSide: true,
      lengthChange: true,
      ajax: {
        url: $(this.table).data('source'),
        method: 'GET'
      },
      columnDefs: [{
        'targets': [2, 3, 5],
        'createdCell':  function (td, cellData, rowData, row, col) {
           $(td).attr('onclick', 'preventRedirection();');
        }
      }]
    });
  }
}

// Script started
$(document).ready(() => {
  if ($('#laws-index').length) {
    const law = new Law();
  }
});
